var countdown=function(){function e(e,s){var n=e.getTime();return e.setMonth(e.getMonth()+s),Math.round((e.getTime()-n)/864e5)}function s(e){var s=e.getTime(),n=new Date(s);return n.setMonth(e.getMonth()+1),Math.round((n.getTime()-s)/864e5)}function n(e,s){if(s=s instanceof Date||null!==s&&isFinite(s)?new Date(+s):new Date,!e)return s;var n=+e.value||0;return n?(s.setTime(s.getTime()+n),s):((n=+e.milliseconds||0)&&s.setMilliseconds(s.getMilliseconds()+n),(n=+e.seconds||0)&&s.setSeconds(s.getSeconds()+n),(n=+e.minutes||0)&&s.setMinutes(s.getMinutes()+n),(n=+e.hours||0)&&s.setHours(s.getHours()+n),(n=+e.weeks||0)&&(n*=7),(n+=+e.days||0)&&s.setDate(s.getDate()+n),(n=+e.months||0)&&s.setMonth(s.getMonth()+n),(n=+e.millennia||0)&&(n*=10),(n+=+e.centuries||0)&&(n*=10),(n+=+e.decades||0)&&(n*=10),(n+=+e.years||0)&&s.setFullYear(s.getFullYear()+n),s)}function t(e,s){return f(e)+(1===e?u[s]:d[s])}function i(){}function o(e,n,t,i,o,r){if(0<=e[t]&&(n+=e[t],delete e[t]),n/=o,1>=n+1)return 0;if(0<=e[i]){switch(e[i]=+(e[i]+n).toFixed(r),i){case"seconds":if(60!==e.seconds||isNaN(e.minutes))break;e.minutes++,e.seconds=0;case"minutes":if(60!==e.minutes||isNaN(e.hours))break;e.hours++,e.minutes=0;case"hours":if(24!==e.hours||isNaN(e.days))break;e.days++,e.hours=0;case"days":if(7!==e.days||isNaN(e.weeks))break;e.weeks++,e.days=0;case"weeks":if(e.weeks!==s(e.refMonth)/7||isNaN(e.months))break;e.months++,e.weeks=0;case"months":if(12!==e.months||isNaN(e.years))break;e.years++,e.months=0;case"years":if(10!==e.years||isNaN(e.decades))break;e.decades++,e.years=0;case"decades":if(10!==e.decades||isNaN(e.centuries))break;e.centuries++,e.decades=0;case"centuries":if(10!==e.centuries||isNaN(e.millennia))break;e.millennia++,e.centuries=0}return 0}return n}function r(n,t,i,r,a,u){var d=new Date;n.start=t=t||d,n.end=i=i||d,n.units=r,n.value=i.getTime()-t.getTime(),0>n.value&&(d=i,i=t,t=d),n.refMonth=new Date(t.getFullYear(),t.getMonth(),15,12,0,0);try{var l;for(n.millennia=0,n.centuries=0,n.decades=0,n.years=i.getFullYear()-t.getFullYear(),n.months=i.getMonth()-t.getMonth(),n.weeks=0,n.days=i.getDate()-t.getDate(),n.hours=i.getHours()-t.getHours(),n.minutes=i.getMinutes()-t.getMinutes(),n.seconds=i.getSeconds()-t.getSeconds(),n.milliseconds=i.getMilliseconds()-t.getMilliseconds(),0>n.milliseconds?(l=p(-n.milliseconds/1e3),n.seconds-=l,n.milliseconds+=1e3*l):1e3<=n.milliseconds&&(n.seconds+=g(n.milliseconds/1e3),n.milliseconds%=1e3),0>n.seconds?(l=p(-n.seconds/60),n.minutes-=l,n.seconds+=60*l):60<=n.seconds&&(n.minutes+=g(n.seconds/60),n.seconds%=60),0>n.minutes?(l=p(-n.minutes/60),n.hours-=l,n.minutes+=60*l):60<=n.minutes&&(n.hours+=g(n.minutes/60),n.minutes%=60),0>n.hours?(l=p(-n.hours/24),n.days-=l,n.hours+=24*l):24<=n.hours&&(n.days+=g(n.hours/24),n.hours%=24);0>n.days;)n.months--,n.days+=e(n.refMonth,1);if(7<=n.days&&(n.weeks+=g(n.days/7),n.days%=7),0>n.months?(l=p(-n.months/12),n.years-=l,n.months+=12*l):12<=n.months&&(n.years+=g(n.months/12),n.months%=12),10<=n.years&&(n.decades+=g(n.years/10),n.years%=10,10<=n.decades&&(n.centuries+=g(n.decades/10),n.decades%=10,10<=n.centuries&&(n.millennia+=g(n.centuries/10),n.centuries%=10))),t=0,!(1024&r)||t>=a?(n.centuries+=10*n.millennia,delete n.millennia):n.millennia&&t++,!(512&r)||t>=a?(n.decades+=10*n.centuries,delete n.centuries):n.centuries&&t++,!(256&r)||t>=a?(n.years+=10*n.decades,delete n.decades):n.decades&&t++,!(128&r)||t>=a?(n.months+=12*n.years,delete n.years):n.years&&t++,!(64&r)||t>=a?(n.months&&(n.days+=e(n.refMonth,n.months)),delete n.months,7<=n.days&&(n.weeks+=g(n.days/7),n.days%=7)):n.months&&t++,!(32&r)||t>=a?(n.days+=7*n.weeks,delete n.weeks):n.weeks&&t++,!(16&r)||t>=a?(n.hours+=24*n.days,delete n.days):n.days&&t++,!(8&r)||t>=a?(n.minutes+=60*n.hours,delete n.hours):n.hours&&t++,!(4&r)||t>=a?(n.seconds+=60*n.minutes,delete n.minutes):n.minutes&&t++,!(2&r)||t>=a?(n.milliseconds+=1e3*n.seconds,delete n.seconds):n.seconds&&t++,!(1&r)||t>=a){var c=o(n,0,"milliseconds","seconds",1e3,u);if(c&&(c=o(n,c,"seconds","minutes",60,u))&&(c=o(n,c,"minutes","hours",60,u))&&(c=o(n,c,"hours","days",24,u))&&(c=o(n,c,"days","weeks",7,u))&&(c=o(n,c,"weeks","months",s(n.refMonth)/7,u))){r=c;var m,h=n.refMonth,f=h.getTime(),y=new Date(f);if(y.setFullYear(h.getFullYear()+1),m=Math.round((y.getTime()-f)/864e5),(c=o(n,r,"months","years",m/s(n.refMonth),u))&&(c=o(n,c,"years","decades",10,u))&&(c=o(n,c,"decades","centuries",10,u))&&(c=o(n,c,"centuries","millennia",10,u)))throw Error("Fractional unit overflow")}}}finally{delete n.refMonth}return n}function a(e,s,t,o,a){var u;t=+t||222,o=0<o?o:NaN,a=0<a?20>a?Math.round(a):20:0;var d=null;"function"==typeof e?(u=e,e=null):e instanceof Date||(null!==e&&isFinite(e)?e=new Date(+e):("object"==typeof d&&(d=e),e=null));var l=null;if("function"==typeof s?(u=s,s=null):s instanceof Date||(null!==s&&isFinite(s)?s=new Date(+s):("object"==typeof s&&(l=s),s=null)),d&&(e=n(d,s)),l&&(s=n(l,e)),!e&&!s)return new i;if(!u)return r(new i,e,s,t,o,a);var c;d=1&t?1e3/30:2&t?1e3:4&t?6e4:8&t?36e5:16&t?864e5:6048e5,l=function(){u(r(new i,e,s,t,o,a),c)};return l(),c=setInterval(l,d)}var u,d,l,c,m,h,f,y,p=Math.ceil,g=Math.floor;i.prototype.toString=function(e){var s=y(this),n=s.length;return n?1===n?s[0]:(e=l+s.pop(),s.join(c)+e):e?""+e:m},i.prototype.toHTML=function(e,s){e=e||"span";var n=y(this),t=n.length;if(!t)return(s=s||m)?"<"+e+">"+s+"</"+e+">":s;for(var i=0;i<t;i++)n[i]="<"+e+">"+n[i]+"</"+e+">";return 1===t?n[0]:(t=l+n.pop(),n.join(c)+t)},i.prototype.addTo=function(e){return n(this,e)},y=function(e){var s=[],n=e.millennia;return n&&s.push(h(n,10)),(n=e.centuries)&&s.push(h(n,9)),(n=e.decades)&&s.push(h(n,8)),(n=e.years)&&s.push(h(n,7)),(n=e.months)&&s.push(h(n,6)),(n=e.weeks)&&s.push(h(n,5)),(n=e.days)&&s.push(h(n,4)),(n=e.hours)&&s.push(h(n,3)),(n=e.minutes)&&s.push(h(n,2)),(n=e.seconds)&&s.push(h(n,1)),(n=e.milliseconds)&&s.push(h(n,0)),s},a.MILLISECONDS=1,a.SECONDS=2,a.MINUTES=4,a.HOURS=8,a.DAYS=16,a.WEEKS=32,a.MONTHS=64,a.YEARS=128,a.DECADES=256,a.CENTURIES=512,a.MILLENNIA=1024,a.DEFAULTS=222,a.ALL=2047;var w=a.setFormat=function(e){if(e){if("singular"in e||"plural"in e){var s=e.singular||[];s.split&&(s=s.split("|"));var n=e.plural||[];n.split&&(n=n.split("|"));for(var t=0;10>=t;t++)u[t]=s[t]||u[t],d[t]=n[t]||d[t]}"string"==typeof e.last&&(l=e.last),"string"==typeof e.delim&&(c=e.delim),"string"==typeof e.empty&&(m=e.empty),"function"==typeof e.formatNumber&&(f=e.formatNumber),"function"==typeof e.formatter&&(h=e.formatter)}},M=a.resetFormat=function(){u=" millisecond; second; minute; hour; day; week; month; year; decade; century; millennium".split(";"),d=" milliseconds; seconds; minutes; hours; days; weeks; months; years; decades; centuries; millennia".split(";"),l=" and ",c=", ",m="",f=function(e){return e},h=t};return a.setLabels=function(e,s,n,t,i,o,r){w({singular:e,plural:s,last:n,delim:t,empty:i,formatNumber:o,formatter:r})},a.resetLabels=M,M(),"undefined"!=typeof module&&module.exports?module.exports=a:"undefined"!=typeof window&&"function"==typeof window.define&&void 0!==window.define.amd&&window.define("countdown",[],function(){return a}),a}();